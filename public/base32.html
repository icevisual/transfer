<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style>
table td{
    border : 1px solid #CCC;
    text-align: center;
}
</style>
<script src="js/jquery-1.9.1.min.js"></script>
<script>


$(function(){
    
    var addEle = function(target,tag,len){
        var td1 = target.find(tag);
        var td1len = td1.length;
        while(td1len < len){
            target.append('<'+tag+'></'+tag+'>');
            td1len ++ ;
        }
    }
    var repeat = function(target, n) {
        return (new Array(n + 1)).join(target);
    }
    var lpad = function(string,length,padding){
    	if(string.length < length){
    		return repeat(padding,length - string.length) + string;
    	}
    	return string;
    }
    var _table = $('#table');
    var str = 'Mangdk2222';
    for(var i = 0 ; i < str.length; i ++){
        var chr = str.charAt(i);
        var chrCode = str.charCodeAt(i);
        var chrByte = parseInt(chrCode,10).toString(2);
        chrByte = lpad(chrByte,8,'0');
        console.log(chr,chrCode,chrByte);
        
        addEle(_table.find('tr').eq(0),'td',i + 1);
        _table.find('tr').eq(0).find('td').eq(i).attr('colspan',8).html(chr);
        addEle(_table.find('tr').eq(1),'td',i + 1);
        _table.find('tr').eq(1).find('td').eq(i).attr('colspan',8).html(chrCode);
        addEle(_table.find('tr').eq(2),'td',8 * (i + 1));
        
        var tr3 = _table.find('tr').eq(2);
        for(var j = 0 ; j < 8 ; j ++){
        	var ind = i * 8 + j;
        	tr3.find('td').eq(ind).html(chrByte.charAt(j));
        }
    }

    var tr3 = _table.find('tr').eq(2);
    var tr4 = _table.find('tr').eq(3);
    var i = 0 ;
    var n = '' ;
    tr3.find('td').each(function(){
    	i ++;
    	n += '' + $(this).html();
    	if(i % 5 == 0){
    		tr4.append('<td colspan=5>'+parseInt(n,2)+'</td>');
    		n = '';
    	}
    });
    
   
    var base32_encode = function(str){
    	var base32Map = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567';
    	var len = str.length;
    	var b32 = '';
    	var rest = 0;
    	var restLen = 0;
    	for(var i = 0 ; i < len ; i ++ ){
    		var chrCode = str.charCodeAt(i);
    		var thisByte = rest << 8 | chrCode;
    		var thisByteLen = restLen + 8;
    		while(thisByteLen >= 5){
    			b32 += base32Map.charAt(thisByte >> (thisByteLen - 5) );
    			thisByteLen -= 5;
    			thisByte = thisByte & (Math.pow(2,thisByteLen) - 1);
    		}
    		rest = thisByte;
    		restLen = thisByteLen;
    	}
    	if(restLen > 0){
    		rest = rest << ( 5 - restLen);
    		b32 += base32Map.charAt(rest );
    	}
    	return b32;
    }
    console.log(base32_encode(str));
})
</script>
</head>
<body>
    <table id = 'table'>
        <tr>
        </tr>
        <tr>
        </tr>
        <tr>
        </tr>
        <tr>
        </tr>
        <tr>
        </tr>
    </table>

</body>
</html>